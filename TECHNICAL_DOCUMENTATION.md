# ğŸš€ æ™ºèƒ½å® ç‰©ç®¡ç†ç§»åŠ¨åº”ç”¨ - æŠ€æœ¯æ–‡æ¡£

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

è¿™æ˜¯ä¸€ä¸ªåŠŸèƒ½å®Œå–„çš„ç§»åŠ¨ç«¯å® ç‰©ç®¡ç†åº”ç”¨ï¼Œé›†æˆäº†ç°ä»£ Web æŠ€æœ¯ã€äººå·¥æ™ºèƒ½ã€å®æ—¶é€šä¿¡ç­‰å…ˆè¿›æŠ€æœ¯ï¼Œä¸ºå® ç‰©ä¸»äººæä¾›å…¨æ–¹ä½çš„æ™ºèƒ½åŒ–å® ç‰©ç®¡ç†è§£å†³æ–¹æ¡ˆã€‚

### ğŸ¯ é¡¹ç›®ç‰¹è‰²

- **ğŸ¤– å¤š AI é›†æˆ**: æ”¯æŒ 4 ç§ä¸»æµ AI æœåŠ¡ï¼ˆOpenAIã€æ™ºè°± AIã€é€šä¹‰åƒé—®ã€ç™¾åº¦æ–‡å¿ƒï¼‰
- **ğŸ“± ç§»åŠ¨ç«¯ä¼˜åŒ–**: ä¸“ä¸ºç§»åŠ¨è®¾å¤‡è®¾è®¡çš„å“åº”å¼ç•Œé¢
- **ğŸ¨ ç°ä»£åŒ– UI**: åŸºäº Antd Mobile çš„ç²¾ç¾ç•Œé¢è®¾è®¡
- **ğŸ” å¤šå…ƒè®¤è¯**: æ”¯æŒä¼ ç»Ÿç™»å½•ã€çŸ­ä¿¡éªŒè¯ã€ç¬¬ä¸‰æ–¹ç™»å½•
- **ğŸ“Š æ•°æ®å¯è§†åŒ–**: ä¸°å¯Œçš„å›¾è¡¨å’Œæ•°æ®å±•ç¤º
- **ğŸŒ å®æ—¶é€šä¿¡**: WebSocket å®æ—¶æ¶ˆæ¯æ¨é€

---

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### æ•´ä½“æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   å‰ç«¯(React)   â”‚â—„â”€â”€â–ºâ”‚   åç«¯(Node.js)  â”‚â—„â”€â”€â–ºâ”‚  æ•°æ®åº“(MongoDB) â”‚
â”‚   Port: 5173    â”‚    â”‚   Port: 3000     â”‚    â”‚   Port: 27017   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                        â”‚
         â”‚                        â–¼
         â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚              â”‚  ç¬¬ä¸‰æ–¹AIæœåŠ¡    â”‚
         â”‚              â”‚ OpenAI/æ™ºè°±AI   â”‚
         â”‚              â”‚ é€šä¹‰åƒé—®/æ–‡å¿ƒä¸€è¨€  â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å‰åç«¯åˆ†ç¦»è®¾è®¡

- **å‰ç«¯**: React + TypeScript + Vite
- **åç«¯**: Node.js + Express + MongoDB
- **é€šä¿¡**: RESTful API + WebSocket
- **éƒ¨ç½²**: æ”¯æŒå®¹å™¨åŒ–éƒ¨ç½²

---

## ğŸ’» å‰ç«¯æŠ€æœ¯æ ˆ

### ğŸ”§ æ ¸å¿ƒæŠ€æœ¯

| æŠ€æœ¯æ ˆ           | ç‰ˆæœ¬   | ç”¨é€”      | äº®ç‚¹             |
| ---------------- | ------ | --------- | ---------------- |
| **React**        | 18.3.1 | å‰ç«¯æ¡†æ¶  | Hooks + å‡½æ•°ç»„ä»¶ |
| **TypeScript**   | 5.8.3  | ç±»å‹ç³»ç»Ÿ  | ä¸¥æ ¼ç±»å‹æ£€æŸ¥     |
| **Vite**         | 7.1.2  | æ„å»ºå·¥å…·  | æé€Ÿçƒ­æ›´æ–°       |
| **Antd Mobile**  | 5.37.1 | UI ç»„ä»¶åº“ | ç§»åŠ¨ç«¯ä¸“ç”¨       |
| **React Router** | 7.8.2  | è·¯ç”±ç®¡ç†  | æ”¯æŒåŠ¨æ€è·¯ç”±     |
| **Tailwind CSS** | 4.1.13 | æ ·å¼æ¡†æ¶  | åŸå­åŒ– CSS       |

### ğŸš€ çŠ¶æ€ç®¡ç†ä¸å·¥å…·

| æŠ€æœ¯                 | ç‰ˆæœ¬   | åŠŸèƒ½           |
| -------------------- | ------ | -------------- |
| **Zustand**          | 5.0.8  | è½»é‡çº§çŠ¶æ€ç®¡ç† |
| **React Context**    | -      | è®¤è¯çŠ¶æ€ç®¡ç†   |
| **Axios**            | 1.11.0 | HTTP è¯·æ±‚åº“    |
| **Socket.io Client** | 4.8.1  | å®æ—¶é€šä¿¡       |

### ğŸ¨ UI/UX å¢å¼º

| åº“å                   | ç‰ˆæœ¬     | åŠŸèƒ½æè¿°       |
| ---------------------- | -------- | -------------- |
| **Framer Motion**      | 12.23.12 | æµç•…åŠ¨ç”»æ•ˆæœ   |
| **React Photo View**   | 1.2.7    | å›¾ç‰‡é¢„è§ˆç»„ä»¶   |
| **Recharts**           | 3.2.0    | æ•°æ®å¯è§†åŒ–å›¾è¡¨ |
| **Emoji Picker React** | 4.13.3   | è¡¨æƒ…é€‰æ‹©å™¨     |
| **React Hot Toast**    | 2.6.0    | ä¼˜é›…æç¤ºç»„ä»¶   |

### ğŸ“± ç§»åŠ¨ç«¯ä¼˜åŒ–

| æŠ€æœ¯                       | åŠŸèƒ½           |
| -------------------------- | -------------- |
| **lib-flexible**           | ç§»åŠ¨ç«¯é€‚é…æ–¹æ¡ˆ |
| **postcss-px-to-viewport** | åƒç´ å•ä½è½¬æ¢   |
| **@use-gesture/react**     | æ‰‹åŠ¿è¯†åˆ«       |
| **compressorjs**           | å›¾ç‰‡å‹ç¼©       |

### ğŸ” å¼€å‘å·¥å…·

| å·¥å…·                  | ç‰ˆæœ¬    | ç”¨é€”         |
| --------------------- | ------- | ------------ |
| **ESLint**            | 9.33.0  | ä»£ç è§„èŒƒæ£€æŸ¥ |
| **TypeScript ESLint** | 8.39.1  | TS ä»£ç è§„èŒƒ  |
| **Autoprefixer**      | 10.4.21 | CSS å…¼å®¹æ€§   |

---

## ğŸ–¥ï¸ åç«¯æŠ€æœ¯æ ˆ

### ğŸ”§ æ ¸å¿ƒæŠ€æœ¯

| æŠ€æœ¯æ ˆ       | ç‰ˆæœ¬   | ç”¨é€”       | ç‰¹è‰²               |
| ------------ | ------ | ---------- | ------------------ |
| **Node.js**  | Latest | è¿è¡Œæ—¶ç¯å¢ƒ | é«˜æ€§èƒ½å¼‚æ­¥ IO      |
| **Express**  | 4.18.2 | Web æ¡†æ¶   | è½»é‡çº§ RESTful API |
| **MongoDB**  | -      | æ•°æ®åº“     | æ–‡æ¡£å‹ NoSQL       |
| **Mongoose** | 7.5.0  | ODM        | ä¼˜é›…çš„æ•°æ®å»ºæ¨¡     |

### ğŸ” å®‰å…¨ä¸è®¤è¯

| æŠ€æœ¯             | ç‰ˆæœ¬   | åŠŸèƒ½         |
| ---------------- | ------ | ------------ |
| **jsonwebtoken** | 9.0.2  | JWT ä»¤ç‰Œè®¤è¯ |
| **bcryptjs**     | 2.4.3  | å¯†ç åŠ å¯†     |
| **cors**         | 2.8.5  | è·¨åŸŸå¤„ç†     |
| **dotenv**       | 16.3.1 | ç¯å¢ƒå˜é‡ç®¡ç† |

### ğŸ“ æ–‡ä»¶å¤„ç†

| æŠ€æœ¯                  | ç‰ˆæœ¬  | åŠŸèƒ½           |
| --------------------- | ----- | -------------- |
| **multer**            | 2.0.2 | æ–‡ä»¶ä¸Šä¼ ä¸­é—´ä»¶ |
| **node-fetch**        | 3.3.2 | HTTP å®¢æˆ·ç«¯    |
| **https-proxy-agent** | 7.0.6 | ä»£ç†æ”¯æŒ       |

---

## ğŸ¤– AI æŠ€æœ¯é›†æˆ

### ğŸŒŸ å¤š AI æœåŠ¡æ”¯æŒ

æœ¬é¡¹ç›®é›†æˆäº† 4 ç§ä¸»æµ AI æœåŠ¡ï¼Œæä¾›å¼ºå¤§çš„å¤šæ¨¡æ€åˆ†æèƒ½åŠ›ï¼š

| AI æœåŠ¡å•†    | æ¨¡å‹                | åŠŸèƒ½ç‰¹è‰²              | æ”¯æŒæ¨¡æ€  |
| ------------ | ------------------- | --------------------- | --------- |
| **OpenAI**   | gpt-4o-mini         | å›½é™…é¢†å…ˆçš„ AI æœåŠ¡    | æ–‡æœ¬+å›¾åƒ |
| **æ™ºè°± AI**  | glm-4v-plus         | å›½äº§ AIï¼Œä¸­æ–‡ç†è§£ä¼˜ç§€ | æ–‡æœ¬+å›¾åƒ |
| **é€šä¹‰åƒé—®** | qwen-vl-plus        | é˜¿é‡Œå·´å·´ AIï¼Œå¤šæ¨¡æ€å¼º | æ–‡æœ¬+å›¾åƒ |
| **ç™¾åº¦æ–‡å¿ƒ** | ERNIE-4.0-Vision-8K | ç™¾åº¦ AIï¼Œä¸­æ–‡ä¼˜åŒ–     | æ–‡æœ¬+å›¾åƒ |

### ğŸ¯ AI åŠŸèƒ½ç‰¹è‰²

#### 1. æ™ºèƒ½å¯¹è¯ç³»ç»Ÿ

```javascript
// AIèŠå¤©æ ¸å¿ƒåŠŸèƒ½
const handleAIChat = async (prompt, imageUrl) => {
  const response = await callAIModel(prompt, imageUrl);
  return response;
};
```

#### 2. å›¾åƒåˆ†æèƒ½åŠ›

- **å® ç‰©è¡Œä¸ºè¯†åˆ«**: åˆ†æå® ç‰©å›¾ç‰‡ï¼Œè¯†åˆ«è¡Œä¸ºçŠ¶æ€
- **å¥åº·çŠ¶å†µè¯„ä¼°**: é€šè¿‡å›¾åƒåˆ†æå® ç‰©å¥åº·
- **æƒ…ç»ªè¯†åˆ«**: è¯†åˆ«å® ç‰©è¡¨æƒ…å’Œæƒ…ç»ªçŠ¶æ€

#### 3. è§†é¢‘åˆ†æç³»ç»Ÿ

```javascript
// è§†é¢‘ä¸Šä¼ å’Œåˆ†æ
const analyzeVideo = multer({
  storage: multer.memoryStorage(),
  limits: { fileSize: 50 * 1024 * 1024 }, // 50MB
  fileFilter: (req, file, cb) => {
    if (file.mimetype.startsWith("video/")) {
      cb(null, true);
    } else {
      cb(new Error("åªå…è®¸ä¸Šä¼ è§†é¢‘æ–‡ä»¶"));
    }
  },
});
```

#### 4. è¯­éŸ³æƒ…ç»ªåˆ†æ

åŸºäºéŸ³é¢‘ç‰¹å¾çš„æ·±åº¦åˆ†æï¼š

- **éŸ³é‡ç‰¹å¾**: æœ€å¤§/å¹³å‡/æœ€å°éŸ³é‡åˆ†æ
- **é¢‘ç‡ç‰¹å¾**: ä¸»å¯¼é¢‘ç‡å’Œç¨³å®šæ€§åˆ†æ
- **è¡Œä¸ºæ¨¡å¼**: é™é»˜æ¯”ä¾‹å’Œå˜åŒ–æ¨¡å¼
- **æƒ…ç»ªè¯†åˆ«**: å¹³é™ã€ç„¦è™‘ã€æ‚²ä¼¤ã€ä¸å®‰ã€æƒŠæ€’

### ğŸ”„ AI æœåŠ¡ç®¡ç†

#### åŠ¨æ€æœåŠ¡åˆ‡æ¢

```javascript
const getCurrentAIService = () => {
  const serviceType = process.env.AI_SERVICE || "zhipu";
  return AI_SERVICES[serviceType];
};
```

#### é™æµæœºåˆ¶

```javascript
class RateLimiter {
  constructor(maxRequests = 10, windowMs = 60000) {
    this.maxRequests = maxRequests;
    this.windowMs = windowMs;
    this.requests = [];
  }
}
```

#### é‡è¯•æœºåˆ¶

- æ”¯æŒè‡ªåŠ¨é‡è¯•
- æŒ‡æ•°é€€é¿ç®—æ³•
- é”™è¯¯æ¢å¤æœºåˆ¶

---

## ğŸ” è®¤è¯ä¸å®‰å…¨ç³»ç»Ÿ

### ğŸšª å¤šç§ç™»å½•æ–¹å¼

| ç™»å½•æ–¹å¼     | æŠ€æœ¯å®ç°         | ç‰¹è‰²          |
| ------------ | ---------------- | ------------- |
| **ä¼ ç»Ÿç™»å½•** | ç”¨æˆ·å/é‚®ç®±+å¯†ç  | bcryptjs åŠ å¯† |
| **çŸ­ä¿¡éªŒè¯** | æ‰‹æœºå·+éªŒè¯ç     | å¼€å‘ç¯å¢ƒæ¨¡æ‹Ÿ  |
| **QQ ç™»å½•**  | OAuth 2.0        | QQ äº’è”å¹³å°   |
| **å¾®ä¿¡ç™»å½•** | OAuth 2.0        | å¾®ä¿¡å¼€æ”¾å¹³å°  |
| **å¾®åšç™»å½•** | OAuth 2.0        | å¾®åšå¼€æ”¾å¹³å°  |

### ğŸ›¡ï¸ å®‰å…¨æªæ–½

#### JWT ä»¤ç‰Œç³»ç»Ÿ

```javascript
// JWTç”Ÿæˆ
const signToken = (payload) => {
  return jwt.sign(payload, process.env.JWT_SECRET, {
    expiresIn: "1h",
  });
};

// JWTéªŒè¯
const verifyToken = (token) => {
  return jwt.verify(token, process.env.JWT_SECRET);
};
```

#### å¯†ç å®‰å…¨

```javascript
// å¯†ç åŠ å¯†
userSchema.pre("save", async function (next) {
  if (!this.isModified("password")) return next();
  const salt = await bcrypt.genSalt(10);
  this.password = await bcrypt.hash(this.password, salt);
  next();
});

// å¯†ç éªŒè¯
userSchema.methods.matchPassword = async function (password) {
  return await bcrypt.compare(password, this.password);
};
```

#### è¯·æ±‚æ‹¦æˆªå™¨

```javascript
// è‡ªåŠ¨æ·»åŠ è®¤è¯å¤´
api.interceptors.request.use((config) => {
  const token = localStorage.getItem("token");
  if (token) config.headers.Authorization = `Bearer ${token}`;
  return config;
});

// 401é”™è¯¯è‡ªåŠ¨å¤„ç†
api.interceptors.response.use(
  (response) => response,
  (error) => {
    if (error.response?.status === 401) {
      localStorage.removeItem("token");
      window.location.href = "/login";
    }
    return Promise.reject(error);
  }
);
```

---

## ğŸ“± ç§»åŠ¨ç«¯ä¼˜åŒ–æŠ€æœ¯

### ğŸ¨ å“åº”å¼è®¾è®¡

#### Tailwind CSS é…ç½®

```javascript
// è‡ªå®šä¹‰ç§»åŠ¨ç«¯æ–­ç‚¹
screens: {
  'xs': '375px',
  'sm': '640px',
  'md': '768px',
  'lg': '1024px',
  'xl': '1280px',
  '2xl': '1536px',
}
```

#### ç§»åŠ¨ç«¯é€‚é…

```javascript
// lib-flexible è‡ªåŠ¨é€‚é…
import "lib-flexible";

// pxè½¬vwè‡ªåŠ¨è½¬æ¢
postcss: {
  plugins: [
    require("postcss-px-to-viewport")({
      viewportWidth: 375,
      viewportHeight: 667,
      unitPrecision: 3,
      viewportUnit: "vw",
    }),
  ];
}
```

### ğŸ¤³ æ‰‹åŠ¿æ”¯æŒ

```javascript
import { useGesture } from "@use-gesture/react";

// æ‰‹åŠ¿è¯†åˆ«
const bind = useGesture({
  onDrag: ({ movement: [mx, my] }) => {
    // æ‹–æ‹½å¤„ç†
  },
  onPinch: ({ scale }) => {
    // ç¼©æ”¾å¤„ç†
  },
});
```

### ğŸ“¸ å›¾ç‰‡å¤„ç†

```javascript
// å›¾ç‰‡å‹ç¼©
import Compressor from "compressorjs";

const compressImage = (file) => {
  return new Promise((resolve) => {
    new Compressor(file, {
      quality: 0.8,
      maxWidth: 1920,
      maxHeight: 1080,
      success: resolve,
    });
  });
};
```

---

## ğŸ“Š æ•°æ®å¯è§†åŒ–

### ğŸ“ˆ å›¾è¡¨ç»„ä»¶

| å›¾è¡¨ç±»å‹       | æŠ€æœ¯å®ç°           | åº”ç”¨åœºæ™¯     |
| -------------- | ------------------ | ------------ |
| **æŸ±çŠ¶å›¾**     | Recharts BarChart  | å® ç‰©æ´»åŠ¨ç»Ÿè®¡ |
| **çº¿å›¾**       | Recharts LineChart | ä½“é‡å˜åŒ–è¶‹åŠ¿ |
| **é¥¼å›¾**       | Recharts PieChart  | è¥å…»æˆåˆ†åˆ†æ |
| **åœ†å½¢è¿›åº¦æ¡** | è‡ªå®šä¹‰ SVG         | ä»»åŠ¡å®Œæˆåº¦   |

#### è¥å…»æˆåˆ†å¯è§†åŒ–

```javascript
// è‡ªå®šä¹‰é¥¼å›¾ç»„ä»¶
const NutritionChart = ({ data }) => {
  return (
    <PieChart width={200} height={200}>
      <Pie
        data={data}
        cx={100}
        cy={100}
        outerRadius={80}
        fill="#8884d8"
        dataKey="value"
        label={renderCustomizedLabel}
      />
      <Tooltip />
    </PieChart>
  );
};
```

#### è¿›åº¦åœ†ç¯

```javascript
// SVGåœ†å½¢è¿›åº¦æ¡
const CircularProgress = ({ percentage }) => {
  const radius = 45;
  const circumference = 2 * Math.PI * radius;
  const strokeDasharray = circumference;
  const strokeDashoffset = circumference - (percentage / 100) * circumference;

  return (
    <svg width="100" height="100">
      <circle
        cx="50"
        cy="50"
        r={radius}
        stroke="#e6e6e6"
        strokeWidth="8"
        fill="transparent"
      />
      <circle
        cx="50"
        cy="50"
        r={radius}
        stroke="#4CAF50"
        strokeWidth="8"
        fill="transparent"
        strokeDasharray={strokeDasharray}
        strokeDashoffset={strokeDashoffset}
        transform="rotate(-90 50 50)"
      />
    </svg>
  );
};
```

---

## ğŸŒ å®æ—¶é€šä¿¡ç³»ç»Ÿ

### ğŸ“¡ WebSocket é›†æˆ

```javascript
// Socket.ioå®¢æˆ·ç«¯
import io from "socket.io-client";

const socket = io("http://localhost:3000", {
  transports: ["websocket"],
});

// å®æ—¶æ¶ˆæ¯ç›‘å¬
socket.on("newMessage", (message) => {
  updateChatStore(message);
});

// å‘é€æ¶ˆæ¯
const sendMessage = (message) => {
  socket.emit("sendMessage", message);
};
```

### ğŸ’¬ èŠå¤©ç³»ç»Ÿç‰¹è‰²

- **å®æ—¶æ¶ˆæ¯**: WebSocket åŒå‘é€šä¿¡
- **æ¶ˆæ¯çŠ¶æ€**: å‘é€ä¸­/å·²å‘é€/å·²è¯»
- **è¡¨æƒ…æ”¯æŒ**: Emoji é€‰æ‹©å™¨
- **å›¾ç‰‡æ¶ˆæ¯**: æ”¯æŒå›¾ç‰‡ä¸Šä¼ å’Œé¢„è§ˆ
- **æ¶ˆæ¯æŒä¹…åŒ–**: MongoDB å­˜å‚¨

---

## ğŸ—‚ï¸ æ•°æ®åº“è®¾è®¡

### ğŸ“Š æ•°æ®æ¨¡å‹

#### ç”¨æˆ·æ¨¡å‹ (User)

```javascript
const userSchema = new mongoose.Schema(
  {
    username: { type: String, unique: true, required: true },
    password: { type: String, required: true },
    mobile: { type: String, unique: true, sparse: true },
    email: { type: String, unique: true, sparse: true },
    avatar: { type: String },
    nickname: { type: String },
    loginType: {
      type: String,
      enum: ["username", "mobile", "email", "qq", "wechat"],
      default: "username",
    },
    isVerified: { type: Boolean, default: false },
    lastLoginAt: { type: Date },
  },
  { timestamps: true }
);
```

#### å® ç‰©æ¨¡å‹ (Pet)

```javascript
const petSchema = new mongoose.Schema(
  {
    userId: { type: mongoose.Schema.Types.ObjectId, ref: "User" },
    nickname: { type: String, required: true },
    type: { type: String, required: true }, // çŒ«/ç‹—
    gender: { type: String, required: true },
    avatar: { type: String },
    birthDate: { type: Date },
    weight: { type: Number },
    breed: { type: String },
    healthStatus: { type: String, default: "å¥åº·" },
  },
  { timestamps: true }
);
```

#### å•†å“æ¨¡å‹ (Product)

```javascript
const productSchema = new mongoose.Schema(
  {
    name: { type: String, required: true, trim: true },
    brand: { type: String, required: true, trim: true },
    description: { type: String, required: true },
    image: { type: String, required: true },
    images: [{ type: String }],
    price: { type: Number, required: true, min: 0 },
    originalPrice: { type: Number, min: 0 },
    sales: { type: Number, default: 0, min: 0 },
    rating: { type: Number, default: 5.0, min: 0, max: 5 },
    tags: [{ type: String }],
    category: {
      type: String,
      required: true,
      enum: ["food", "toy", "health", "accessory", "other"],
    },
    stock: { type: Number, default: 0, min: 0 },
    specifications: {
      weight: String,
      dimensions: String,
      material: String,
      color: String,
      ageRange: String,
    },
    features: [{ type: String }],
    isActive: { type: Boolean, default: true },
  },
  { timestamps: true }
);
```

### ğŸ”„ æ•°æ®å…³ç³»

- ç”¨æˆ· â†” å® ç‰© (ä¸€å¯¹å¤š)
- ç”¨æˆ· â†” è®¢å• (ä¸€å¯¹å¤š)
- è®¢å• â†” å•†å“ (å¤šå¯¹å¤š)
- å® ç‰© â†” å¥åº·è®°å½• (ä¸€å¯¹å¤š)

---

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½æ¨¡å—

### ğŸ¾ å® ç‰©ç®¡ç†ç³»ç»Ÿ

#### å® ç‰©ä¿¡æ¯ç®¡ç†

- **æ·»åŠ å® ç‰©**: å¤šæ­¥éª¤è¡¨å•ï¼Œç”¨æˆ·å‹å¥½çš„å¼•å¯¼æµç¨‹
- **å® ç‰©æ¡£æ¡ˆ**: è¯¦ç»†çš„å® ç‰©ä¿¡æ¯å±•ç¤º
- **å¥åº·è®°å½•**: ä½“æ¸©ã€ä½“é‡ã€ç–«è‹—è®°å½•
- **è¡Œä¸ºåˆ†æ**: AI åˆ†æå® ç‰©è¡Œä¸ºæ¨¡å¼

#### è®¡åˆ’ç®¡ç†

```javascript
// å–‚é£Ÿè®¡åˆ’
const feedingPlan = {
  time: "08:00",
  food: "çš‡å®¶çŒ«ç²®",
  amount: "50g",
  reminder: true,
  completed: false,
};

// è¿åŠ¨è®¡åˆ’
const exercisePlan = {
  type: "æ•£æ­¥",
  duration: 30,
  time: "18:00",
  reminder: true,
  completed: false,
};
```

### ğŸ›’ ç”µå•†ç³»ç»Ÿ

#### å•†å“ç®¡ç†

- **å•†å“å±•ç¤º**: ç½‘æ ¼å¸ƒå±€ï¼Œæ”¯æŒç­›é€‰å’Œæœç´¢
- **å•†å“è¯¦æƒ…**: è¯¦ç»†ä¿¡æ¯ã€å¤šå›¾å±•ç¤ºã€è§„æ ¼é€‰æ‹©
- **è´­ç‰©è½¦**: å•†å“æ•°é‡è°ƒæ•´ã€è§„æ ¼ç®¡ç†
- **è®¢å•ç®¡ç†**: åˆ›å»ºã€æ”¯ä»˜ã€è¿½è¸ªã€è¯„ä»·

#### æ”¯ä»˜é›†æˆ

```javascript
// è®¢å•åˆ›å»º
const createOrder = async (orderData) => {
  const order = await Order.create({
    userId: req.user.id,
    items: orderData.items,
    totalAmount: calculatedTotal,
    shippingAddress: orderData.address,
    status: "pending",
  });
  return order;
};
```

### ğŸ¤– AI åŠ©æ‰‹åŠŸèƒ½

#### æ™ºèƒ½å¯¹è¯

- **å¤šè½®å¯¹è¯**: æ”¯æŒä¸Šä¸‹æ–‡ç†è§£
- **å›¾ç‰‡åˆ†æ**: ä¸Šä¼ å›¾ç‰‡è·å– AI åˆ†æ
- **å® ç‰©è¡Œä¸ºè§£è¯»**: ä¸“ä¸šçš„å® ç‰©è¡Œä¸ºåˆ†æ
- **å¥åº·å»ºè®®**: åŸºäºæ•°æ®çš„å¥åº·å»ºè®®

#### æƒ…ç»ªåˆ†æ

```javascript
// å£°éŸ³æƒ…ç»ªåˆ†æ
const analyzeVoiceEmotion = async (audioFeatures) => {
  const emotions = [
    { emotion: "å¹³é™", percentage: 60, color: "#27AE60" },
    { emotion: "ç„¦è™‘", percentage: 20, color: "#F39C12" },
    { emotion: "æ‚²ä¼¤", percentage: 10, color: "#4A90E2" },
    { emotion: "ä¸å®‰", percentage: 5, color: "#9B59B6" },
    { emotion: "æƒŠæ€’", percentage: 5, color: "#E74C3C" },
  ];
  return emotions;
};
```

---

## âš¡ æ€§èƒ½ä¼˜åŒ–æŠ€æœ¯

### ğŸš€ å‰ç«¯ä¼˜åŒ–

#### ä»£ç åˆ†å‰²

```javascript
// Viteè‡ªåŠ¨ä»£ç åˆ†å‰²
export default defineConfig({
  build: {
    rollupOptions: {
      output: {
        manualChunks: {
          vendor: ["react", "react-dom"],
          ui: ["antd-mobile"],
          router: ["react-router-dom"],
        },
      },
    },
  },
});
```

#### å›¾ç‰‡ä¼˜åŒ–

- **æ‡’åŠ è½½**: ä½¿ç”¨ Intersection Observer API
- **å‹ç¼©**: Compressor.js è‡ªåŠ¨å‹ç¼©
- **æ ¼å¼ä¼˜åŒ–**: æ”¯æŒ WebP æ ¼å¼
- **å“åº”å¼å›¾ç‰‡**: ä¸åŒå±å¹•å¯†åº¦é€‚é…

#### ç¼“å­˜ç­–ç•¥

```javascript
// Service Workerç¼“å­˜
if ("serviceWorker" in navigator) {
  navigator.serviceWorker.register("/sw.js").then((registration) => {
    console.log("SW registered");
  });
}
```

### ğŸ”§ åç«¯ä¼˜åŒ–

#### æ•°æ®åº“ä¼˜åŒ–

```javascript
// MongoDBç´¢å¼•ä¼˜åŒ–
userSchema.index({ username: 1 });
userSchema.index({ mobile: 1 });
userSchema.index({ email: 1 });

productSchema.index({ category: 1, isActive: 1 });
productSchema.index({ name: "text", brand: "text" });
```

#### è¯·æ±‚ä¼˜åŒ–

- **åˆ†é¡µæŸ¥è¯¢**: é¿å…å¤§é‡æ•°æ®ä¼ è¾“
- **å­—æ®µé€‰æ‹©**: åªè¿”å›å¿…è¦å­—æ®µ
- **ç¼“å­˜æœºåˆ¶**: Redis ç¼“å­˜çƒ­ç‚¹æ•°æ®
- **å‹ç¼©**: Gzip å‹ç¼©å“åº”

---

## ğŸ› ï¸ å¼€å‘å·¥å…·é“¾

### ğŸ“¦ æ„å»ºå·¥å…·

| å·¥å…·           | ç‰ˆæœ¬   | åŠŸèƒ½             |
| -------------- | ------ | ---------------- |
| **Vite**       | 7.1.2  | æé€Ÿæ„å»ºå’Œçƒ­æ›´æ–° |
| **TypeScript** | 5.8.3  | ç±»å‹æ£€æŸ¥å’Œè½¬è¯‘   |
| **ESLint**     | 9.33.0 | ä»£ç è§„èŒƒæ£€æŸ¥     |
| **Prettier**   | -      | ä»£ç æ ¼å¼åŒ–       |

### ğŸ” ä»£ç è´¨é‡

#### TypeScript é…ç½®

```json
{
  "compilerOptions": {
    "target": "ES2022",
    "lib": ["ES2022", "DOM", "DOM.Iterable"],
    "module": "ESNext",
    "moduleResolution": "bundler",
    "strict": true,
    "noUnusedLocals": true,
    "noUnusedParameters": true,
    "jsx": "react-jsx"
  }
}
```

#### ESLint è§„åˆ™

```javascript
export default {
  extends: [
    "@eslint/js/recommended",
    "@typescript-eslint/recommended",
    "plugin:react-hooks/recommended",
  ],
  rules: {
    "react-refresh/only-export-components": "warn",
    "@typescript-eslint/no-unused-vars": "error",
  },
};
```

### ğŸ› è°ƒè¯•å·¥å…·

#### é”™è¯¯è¾¹ç•Œ

```javascript
class MobileErrorBoundary extends Component {
  constructor(props) {
    super(props);
    this.state = { hasError: false };
  }

  static getDerivedStateFromError(error) {
    return { hasError: true };
  }

  componentDidCatch(error, errorInfo) {
    console.error("Error caught by boundary:", error, errorInfo);
  }

  render() {
    if (this.state.hasError) {
      return <ErrorFallback onRetry={this.handleRetry} />;
    }
    return this.props.children;
  }
}
```

#### ç½‘ç»œçŠ¶æ€ç›‘æ§

```javascript
const NetworkStatus = () => {
  const [isOnline, setIsOnline] = useState(navigator.onLine);

  useEffect(() => {
    const handleOnline = () => setIsOnline(true);
    const handleOffline = () => setIsOnline(false);

    window.addEventListener("online", handleOnline);
    window.addEventListener("offline", handleOffline);

    return () => {
      window.removeEventListener("online", handleOnline);
      window.removeEventListener("offline", handleOffline);
    };
  }, []);

  return isOnline ? null : <OfflineIndicator />;
};
```

---

## ğŸš¢ éƒ¨ç½²ä¸è¿ç»´

### ğŸ³ å®¹å™¨åŒ–éƒ¨ç½²

#### Docker é…ç½®

```dockerfile
# å‰ç«¯Dockerfile
FROM node:18-alpine AS builder
WORKDIR /app
COPY package*.json ./
RUN npm ci --only=production
COPY . .
RUN npm run build

FROM nginx:alpine
COPY --from=builder /app/dist /usr/share/nginx/html
COPY nginx.conf /etc/nginx/nginx.conf
EXPOSE 80
CMD ["nginx", "-g", "daemon off;"]
```

```dockerfile
# åç«¯Dockerfile
FROM node:18-alpine
WORKDIR /app
COPY package*.json ./
RUN npm ci --only=production
COPY . .
EXPOSE 3000
CMD ["node", "src/app.js"]
```

#### Docker Compose

```yaml
version: "3.8"
services:
  frontend:
    build: ./frontend
    ports:
      - "80:80"
    depends_on:
      - backend

  backend:
    build: ./backend
    ports:
      - "3000:3000"
    environment:
      - MONGO_URI=mongodb://mongo:27017/mobile-app
    depends_on:
      - mongo

  mongo:
    image: mongo:6
    ports:
      - "27017:27017"
    volumes:
      - mongo_data:/data/db

volumes:
  mongo_data:
```

### â˜ï¸ äº‘åŸç”Ÿéƒ¨ç½²

#### Kubernetes é…ç½®

```yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: pet-app-frontend
spec:
  replicas: 3
  selector:
    matchLabels:
      app: pet-app-frontend
  template:
    metadata:
      labels:
        app: pet-app-frontend
    spec:
      containers:
        - name: frontend
          image: pet-app-frontend:latest
          ports:
            - containerPort: 80
```

### ğŸ“Š ç›‘æ§ä¸æ—¥å¿—

#### æ€§èƒ½ç›‘æ§

- **å‰ç«¯**: Web Vitals ç›‘æ§
- **åç«¯**: Node.js æ€§èƒ½æŒ‡æ ‡
- **æ•°æ®åº“**: MongoDB ç›‘æ§
- **AI æœåŠ¡**: API è°ƒç”¨ç›‘æ§

#### æ—¥å¿—ç®¡ç†

```javascript
// ç»“æ„åŒ–æ—¥å¿—
const logger = {
  info: (message, meta = {}) => {
    console.log(
      JSON.stringify({
        level: "info",
        timestamp: new Date().toISOString(),
        message,
        ...meta,
      })
    );
  },
  error: (message, error = null) => {
    console.error(
      JSON.stringify({
        level: "error",
        timestamp: new Date().toISOString(),
        message,
        error: error?.stack || error,
      })
    );
  },
};
```

---

## ğŸ”® æŠ€æœ¯äº®ç‚¹æ€»ç»“

### ğŸŒŸ åˆ›æ–°ç‰¹æ€§

1. **å¤š AI æœåŠ¡èšåˆ**

   - æ”¯æŒ 4 ç§ä¸»æµ AI æœåŠ¡å•†
   - æ™ºèƒ½æœåŠ¡åˆ‡æ¢å’Œè´Ÿè½½å‡è¡¡
   - ç»Ÿä¸€çš„ API æ¥å£è®¾è®¡

2. **å¤šæ¨¡æ€ AI åˆ†æ**

   - æ–‡æœ¬ã€å›¾åƒã€è§†é¢‘ã€è¯­éŸ³å…¨è¦†ç›–
   - ä¸“ä¸šçš„å® ç‰©è¡Œä¸ºåˆ†æç®—æ³•
   - å®æ—¶æƒ…ç»ªè¯†åˆ«å’Œå¥åº·è¯„ä¼°

3. **ç°ä»£åŒ–å‰ç«¯æ¶æ„**

   - React 18 + TypeScript å…¨æ ˆå¼€å‘
   - Vite æé€Ÿæ„å»ºå’Œçƒ­æ›´æ–°
   - ç»„ä»¶åŒ–å’Œæ¨¡å—åŒ–è®¾è®¡

4. **ç§»åŠ¨ç«¯æ·±åº¦ä¼˜åŒ–**

   - åŸç”Ÿèˆ¬çš„äº¤äº’ä½“éªŒ
   - å®Œå–„çš„æ‰‹åŠ¿æ”¯æŒ
   - å“åº”å¼é€‚é…å„ç§è®¾å¤‡

5. **å…¨é¢çš„å®‰å…¨ä½“ç³»**
   - å¤šç§ç™»å½•æ–¹å¼æ”¯æŒ
   - JWT + bcrypt å®‰å…¨è®¤è¯
   - å®Œå–„çš„æƒé™æ§åˆ¶

### ğŸš€ æ€§èƒ½ä¼˜åŠ¿

| ä¼˜åŒ–ç»´åº¦     | æŠ€æœ¯æ–¹æ¡ˆ | æ€§èƒ½æå‡  |
| ------------ | -------- | --------- |
| **æ„å»ºé€Ÿåº¦** | Vite     | 10x+ æå‡ |
| **åŒ…ä½“ç§¯**   | ä»£ç åˆ†å‰² | 50% å‡å°‘  |
| **åŠ è½½é€Ÿåº¦** | æ‡’åŠ è½½   | 60% æå‡  |
| **å“åº”æ—¶é—´** | ç¼“å­˜ç­–ç•¥ | 80% æå‡  |

### ğŸ¯ ç”¨æˆ·ä½“éªŒ

1. **æµç•…çš„åŠ¨ç”»æ•ˆæœ**

   - Framer Motion åŠ¨ç”»åº“
   - 60fps æµç•…ä½“éªŒ
   - ç¬¦åˆ Material Design è§„èŒƒ

2. **æ™ºèƒ½åŒ–äº¤äº’**

   - AI é©±åŠ¨çš„æ™ºèƒ½æ¨è
   - ä¸Šä¸‹æ–‡æ„ŸçŸ¥çš„ç•Œé¢
   - ä¸ªæ€§åŒ–çš„ç”¨æˆ·ä½“éªŒ

3. **æ— éšœç¢è®¿é—®**
   - å®Œå–„çš„é”®ç›˜å¯¼èˆª
   - å±å¹•é˜…è¯»å™¨æ”¯æŒ
   - é«˜å¯¹æ¯”åº¦æ¨¡å¼

### ğŸ“ˆ å¯æ‰©å±•æ€§

1. **å¾®æœåŠ¡æ¶æ„**

   - å‰åç«¯å®Œå…¨åˆ†ç¦»
   - API æ ‡å‡†åŒ–è®¾è®¡
   - æ˜“äºæ¨ªå‘æ‰©å±•

2. **æ’ä»¶åŒ–è®¾è®¡**

   - AI æœåŠ¡å¯æ’æ‹”
   - æ”¯ä»˜æ–¹å¼å¯æ‰©å±•
   - ç¬¬ä¸‰æ–¹é›†æˆä¾¿æ·

3. **äº‘åŸç”Ÿæ”¯æŒ**
   - å®¹å™¨åŒ–éƒ¨ç½²
   - Kubernetes ç¼–æ’
   - è‡ªåŠ¨ä¼¸ç¼©èƒ½åŠ›

---

## ğŸ“š å­¦ä¹ ä»·å€¼

è¿™ä¸ªé¡¹ç›®é›†æˆäº†ç°ä»£ Web å¼€å‘çš„æœ€ä½³å®è·µï¼Œæ¶µç›–äº†ï¼š

- ğŸ¨ **å‰ç«¯æŠ€æœ¯**: React Hooksã€TypeScriptã€å“åº”å¼è®¾è®¡
- ğŸš€ **åç«¯æŠ€æœ¯**: Node.jsã€Expressã€MongoDBã€JWT è®¤è¯
- ğŸ¤– **AI é›†æˆ**: å¤šæ¨¡æ€ AI åˆ†æã€æœºå™¨å­¦ä¹ åº”ç”¨
- ğŸ“± **ç§»åŠ¨å¼€å‘**: PWAã€ç§»åŠ¨ç«¯ä¼˜åŒ–ã€æ‰‹åŠ¿è¯†åˆ«
- ğŸ”§ **å·¥ç¨‹åŒ–**: Vite æ„å»ºã€ESLint è§„èŒƒã€Docker éƒ¨ç½²
- ğŸ›¡ï¸ **å®‰å…¨å®è·µ**: è®¤è¯æˆæƒã€æ•°æ®åŠ å¯†ã€CORS å¤„ç†

æ— è®ºæ˜¯å­¦ä¹ ç°ä»£ Web å¼€å‘æŠ€æœ¯æ ˆï¼Œè¿˜æ˜¯äº†è§£ AI åœ¨å®é™…é¡¹ç›®ä¸­çš„åº”ç”¨ï¼Œè¿™ä¸ªé¡¹ç›®éƒ½æä¾›äº†å¾ˆå¥½çš„å‚è€ƒä»·å€¼ã€‚

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚éœ€äº†è§£æ›´å¤šæŠ€æœ¯ç»†èŠ‚æˆ–æœ‰ä»»ä½•é—®é¢˜ï¼Œæ¬¢è¿ï¼š

- ğŸ“§ æŸ¥çœ‹é¡¹ç›®æºç å’Œæ–‡æ¡£
- ğŸ’¬ å‚ä¸æŠ€æœ¯è®¨è®º
- ğŸ› æŠ¥å‘Šé—®é¢˜å’Œå»ºè®®
- ğŸš€ è´¡çŒ®ä»£ç æ”¹è¿›

---

_æ­¤æ–‡æ¡£è¯¦ç»†è®°å½•äº†é¡¹ç›®çš„æŠ€æœ¯æ ˆã€æ¶æ„è®¾è®¡å’Œå®ç°ç»†èŠ‚ï¼Œä¸ºå¼€å‘è€…æä¾›å…¨é¢çš„æŠ€æœ¯å‚è€ƒã€‚_
