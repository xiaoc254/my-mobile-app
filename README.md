# 移动端应用项目
2223
## 项目结构

```
my-mobile-app/
├── frontend/     # React + Vite + TypeScript + Vant UI
├── backend/      # Node.js + Express + MongoDB
└── README.md
```

## 启动步骤

### 1. 安装依赖

```bash
# 后端依赖
cd backend
npm install

# 前端依赖
cd ../frontend
npm install
```

### 2. 配置数据库

确保本地 MongoDB 服务正在运行，或修改 `backend/env.config.js` 中的数据库连接地址。

### 3. 启动服务

**后端服务** (端口 3000):

```bash
cd backend
npm start
```

**前端服务** (端口 5173):

```bash
cd frontend
npm run dev
```

## 功能特性

### 后端 (Express + MongoDB)

- ✅ 用户注册/登录
- ✅ JWT 身份验证
- ✅ 密码加密存储
- ✅ CORS 跨域支持
- ✅ 环境配置管理

### 前端 (React + Vant)

- ✅ 移动端适配
- ✅ 路由导航
- ✅ 底部 Tabbar
- ✅ 页面: 首页、宠物管理、商城、我的、设置、登录
- ✅ HTTP 请求封装
- ✅ 宠物管理界面（暖橙色主题设计）

## API 接口

```
POST /api/auth/register - 用户注册
POST /api/auth/login    - 用户登录
GET  /api/auth/profile  - 获取用户信息 (需要JWT)
PUT  /api/auth/profile  - 更新用户信息 (需要JWT)
PUT  /api/auth/password - 修改密码 (需要JWT)
POST /api/auth/logout   - 退出登录 (需要JWT)
```

## 技术特色

### 🔐 安全认证

- JWT Token 身份验证
- bcrypt 密码加密
- 认证中间件保护

### 📱 移动端优化

- Vant UI 组件库
- lib-flexible 适配方案
- 触摸友好的交互设计
- 安全区域适配

### 🏗️ 架构设计

- 前后端分离
- RESTful API 设计
- 模块化代码结构
- TypeScript 类型安全

## 已优化功能

- ✅ 完整的用户认证流程
- ✅ 响应式移动端界面
- ✅ JWT 中间件保护
- ✅ 完善的错误处理
- ✅ 移动端样式优化
- ✅ 代码分离和打包优化

## 页面功能

- 🏠 **首页**: 用户信息展示、状态查看
- 🐾 **宠物管理**: 宠物信息管理、计划提醒、任务跟踪
- 📋 **宠物详情**: 完整的宠物信息展示、任务管理、进度跟踪
- 🍽️ **喂食计划**: 详细的喂食时间表、营养分析、提醒设置
- 🏃 **运动计划**: 运动计划设置、提醒功能、运动记录、完成统计
- 📝 **每日日志**: 日志记录、查看历史、编辑功能、心情标签
- 🌡️ **体温记录**: 体温测量、记录历史、健康分析、异常提醒
- 📥 **商城**: 商品浏览、购买功能
- 👤 **我的**: 个人资料、头像、退出登录
- ⚙️ **设置**: 用户名修改、密码修改、应用设置
- 🔐 **登录**: 用户登录、注册新账户

## 宠物管理页面特色

### 🎨 界面设计
- 暖橙色渐变背景主题
- 圆角卡片设计风格
- 温馨的宠物元素图标
- 移动端友好的交互体验

### 📱 功能模块
- **顶部区域**: 猫咪爪子与手指互动图片展示
- **添加宠物**: 醒目的橙色渐变按钮
- **我的宠物**: 现有宠物展示（布丁🐱、雪球🐕）
- **今日计划**: 四个任务项（运动计划、喂食计划、每日日志、体温记录）
- **交互效果**: 按钮悬停动画、卡片阴影效果

### 🆕 交互功能
- **宠物选择**: 点击任意宠物头像可选中该宠物
- **动态头像**: 今日计划区域的头像会根据选中的宠物实时变化
- **智能排序**: 点击的宠物会自动移动到列表的第一个位置（布丁的位置）
- **统一列表**: 静态宠物（布丁、雪球）和动态宠物统一管理
- **点击动画**: 宠物头像支持点击缩放动画效果
- **优化尺寸**: 宠物头像尺寸从40px放大到50px，提升视觉效果
- **详情页面**: 点击"去完成"按钮跳转到宠物详情页面，完全还原设计稿样式
- **任务跳转**: 四个任务分别跳转到对应页面（运动计划、喂食计划、每日日志、体温记录）

### 🔧 技术实现
- TypeScript 类型安全
- 响应式布局设计
- 组件化开发
- 数据驱动渲染
- React Hooks 状态管理
- 动态头像切换逻辑

## 宠物详情页面特色

### 🎨 界面设计
- 简洁清爽的白色背景设计
- 卡片式布局，层次分明
- 时间轴样式的任务列表展示
- 圆形进度条显示月度完成情况

### 📱 功能模块
- **顶部区域**: 返回按钮、宠物头像、详细信息（名称、品种、年龄、体重）、切换按钮
- **修改计划**: 醒目的金色按钮，用于编辑宠物计划
- **任务管理**: 分为"进行中"和"已完成"两个状态的任务列表
- **时间轴**: 带连接线的圆形时间点，支持任务状态切换
- **操作按钮**: 查看记录、编辑计划、删除计划等功能按钮
- **运动提醒**: 带开关的运动提醒设置
- **月度计划**: 散步和玩耍时间统计
- **进度显示**: 圆形进度条显示当前完成百分比

### 🔧 技术实现
- React Router 页面路由管理
- 状态管理处理任务完成状态
- SVG 绘制圆形进度条
- 响应式布局适配移动端
- 组件化设计便于维护

## 喂食计划页面特色

### 🎨 界面设计
- 简洁清爽的白色背景设计
- 圆形宠物头像展示，带项圈装饰
- 金色渐变按钮设计风格
- 时间段分组的喂食计划展示
- 营养成分可视化图表

### 📱 功能模块
- **顶部区域**: 返回按钮、宠物名称、切换按钮
- **宠物信息**: 品种、年龄、体重详细信息展示
- **修改计划**: 醒目的金色按钮，用于编辑喂食计划
- **喂食计划**: 按时间段(早、中、晚)分组的喂食安排
- **提醒功能**: 喂食提醒开关，支持震动提醒方式
- **营养分析**: 营养成分分析按钮和建议提示
- **营养成分图**: 圆形图表展示蛋白质、脂肪、碳水化合物等营养成分比例

### 🔧 技术实现
- React Router 页面路由管理
- 状态管理处理宠物切换和提醒设置
- SVG 绘制营养成分圆形图表
- 响应式布局适配移动端
- 组件化设计便于维护
- 数据驱动的时间段分组显示

## 运动计划页面特色

### 🎨 界面设计
- 简洁清爽的白色背景设计
- 圆形宠物头像展示，带项圈装饰
- 金色渐变按钮设计风格
- 运动计划卡片式布局展示
- 完成状态可视化统计

### 📱 功能模块
- **顶部区域**: 返回按钮、宠物名称、切换按钮
- **宠物信息**: 品种、年龄、体重详细信息展示
- **添加计划**: 醒目的金色按钮，用于添加新的运动计划
- **运动计划**: 运动类型（散步、玩耍、训练、其他）、持续时间、提醒时间
- **完成状态**: 支持标记完成/未完成状态切换
- **统计信息**: 完成率、已完成数量、总运动时间统计

### 🔧 技术实现
- React Router 页面路由管理
- 状态管理处理计划完成状态
- 响应式布局适配移动端
- 组件化设计便于维护
- 数据驱动的计划列表显示

## 每日日志页面特色

### 🎨 界面设计
- 简洁清爽的白色背景设计
- 圆形宠物头像展示，带项圈装饰
- 金色渐变按钮设计风格
- 日志卡片式布局展示
- 心情标签和活动标签可视化

### 📱 功能模块
- **顶部区域**: 返回按钮、宠物名称、切换按钮
- **宠物信息**: 品种、年龄、体重详细信息展示
- **添加日志**: 醒目的金色按钮，用于记录新的日志
- **日志记录**: 标题、内容、心情（开心、正常、难过、兴奋、疲惫）
- **活动标签**: 玩耍、运动、休息、喂食、洗澡、训练、外出、其他
- **编辑功能**: 支持编辑和删除已有日志
- **统计信息**: 总记录数、今日记录、开心记录统计

### 🔧 技术实现
- React Router 页面路由管理
- 状态管理处理日志编辑和删除
- 响应式布局适配移动端
- 组件化设计便于维护
- 数据驱动的日志列表显示

## 体温记录页面特色

### 🎨 界面设计
- 简洁清爽的白色背景设计
- 圆形宠物头像展示，带项圈装饰
- 金色渐变按钮设计风格
- 体温记录卡片式布局展示
- 体温状况颜色编码显示

### 📱 功能模块
- **顶部区域**: 返回按钮、宠物名称、切换按钮
- **宠物信息**: 品种、年龄、体重详细信息展示
- **当前状态**: 最新体温显示、状况判断（正常、发热、过高、偏低）
- **添加记录**: 醒目的金色按钮，用于记录新的体温
- **体温记录**: 体温数值、测量时间、备注信息
- **编辑功能**: 支持编辑和删除已有记录
- **统计信息**: 总记录数、平均体温、异常记录统计
- **健康指导**: 正常体温范围说明和健康建议

### 🔧 技术实现
- React Router 页面路由管理
- 状态管理处理体温记录编辑和删除
- 响应式布局适配移动端
- 组件化设计便于维护
- 数据驱动的记录列表显示
- 智能体温状况判断算法
