# 移动端图片上传功能使用指南

## 🚀 功能特点

### 📱 移动端优化

- **双拍照选项**：📁 相册选择 + 📷 相机拍照
- **智能压缩**：自动压缩图片到 800px，减少传输时间
- **触摸优化**：加大按钮，改善触摸体验
- **响应式布局**：适配各种屏幕尺寸
- **安全区域适配**：支持 iPhone 刘海屏等

## 🎯 如何使用

### 1. 启动服务

```powershell
# 前端服务 (端口: 5173)
cd frontend
npm run dev

# 后端服务 (端口: 3000)
cd backend
node src/app.js
```

### 2. 配置环境

在 `backend/.env` 文件中设置：

```env
OPENAI_API_KEY=your-actual-api-key-here
OPENAI_MODEL=gpt-4o-mini
```

### 3. 手机访问

- 确保手机和电脑在同一 WiFi
- 访问：`http://你的电脑IP:5173`
- 例如：`http://192.168.1.100:5173`

## 📸 图片上传方式

### 方式一：相册选择

1. 点击 📁 按钮
2. 从相册选择宠物照片
3. 自动压缩和预览
4. 添加描述（可选）
5. 点击发送

### 方式二：相机拍照（仅移动端）

1. 点击 📷 按钮
2. 系统调用相机拍摄
3. 确认照片
4. 自动压缩和预览
5. 添加描述（可选）
6. 点击发送

## 🔧 技术特性

- **图片压缩**：自动压缩到最大 800px 宽度
- **文件限制**：支持 10MB 以内的图片
- **格式支持**：jpg, png, gif, webp 等常见格式
- **预览功能**：点击图片可放大查看
- **错误处理**：友好的错误提示和重试机制

## 📊 AI 分析能力

上传宠物图片后，AI 可以分析：

- 宠物品种和特征
- 健康状态评估
- 行为分析
- 环境建议
- 护理建议

## 🛠️ 故障排除

### 常见问题：

1. **无法访问相机**：检查浏览器权限设置
2. **图片上传失败**：检查文件大小和格式
3. **AI 无响应**：确认 API Key 配置正确
4. **网络错误**：检查设备网络连接

### 浏览器支持：

- ✅ Chrome/Safari (推荐)
- ✅ Edge/Firefox
- ⚠️ 微信内置浏览器（部分功能可能受限）

## 📲 移动端最佳体验

1. **使用原生浏览器**（Chrome/Safari）
2. **允许相机和存储权限**
3. **确保网络连接稳定**
4. **图片清晰度要好**（便于 AI 分析）
5. **添加描述文字**（提高分析准确性）
